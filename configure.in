AC_INIT(src/merge/mkvmerge.cpp)
AC_PREREQ(2.50)

AC_CONFIG_HEADERS(config.h:config.h.in)

PACKAGE="mkvtoolnix"
VERSION="2.2.0"
AC_SUBST(PACKAGE)
AC_SUBST(VERSION)

dnl Optional features that are built and those that aren't
opt_features_yes=""
opt_features_no=""

m4_include(ac/initialization.m4)
m4_include(ac/check_version.m4)
m4_include(ac/endianess.m4)
m4_include(ac/mingw.m4)
m4_include(ac/extra_inc_lib.m4)
m4_include(ac/debugging_profiling.m4)
m4_include(ac/gcc_version.m4)
m4_include(ac/inttypes.m4)
m4_include(ac/pri64d.m4)
m4_include(ac/posix_fadvise.m4)
m4_include(ac/iconv.m4)
m4_include(ac/nl_langinfo.m4)
m4_include(ac/ogg.m4)
m4_include(ac/vorbis.m4)
m4_include(ac/flac.m4)
m4_include(ac/ebml.m4)
m4_include(ac/matroska.m4)
m4_include(ac/expat.m4)
m4_include(ac/zlib.m4)
m4_include(ac/lzo.m4)
m4_include(ac/bz.m4)
m4_include(ac/wxwidgets.m4)
m4_include(ac/qt4.m4)
m4_include(ac/translations.m4)
m4_include(ac/magic.m4)
m4_include(ac/ax_boost_base.m4)
m4_include(ac/ax_boost_regex.m4)
m4_include(ac/boost.m4)

AC_OUTPUT(Makefile avilib-0.6.10/Makefile librmff/Makefile src/Makefile src/common/Makefile src/input/Makefile src/output/Makefile src/mpegparser/Makefile src/mmg/Makefile src/extract/Makefile src/merge/Makefile src/info/Makefile)

echo ''
echo 'The mkvtoolnix configuration is complete.'
echo -e 'Optional features that are built: '"$opt_features_yes"
echo -e 'Optional features that are NOT built: '"$opt_features_no"
